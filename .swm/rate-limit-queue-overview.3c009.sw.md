---
id: 3c009
name: Rate Limit Queue Overview
file_version: 1.0.2
app_version: 0.8.9-2
file_blobs:
  src/queue.ts: e2a367fa5404b54e6bca8160935165f1f6d3ba5c
  package.json: 4790390936c7adcc4a21829b599e08a46798e597
  tsconfig.json: ced946be08b6157720abbd71e4da1a716bf00c1f
---

The rate limit queue can be used to queue & distribute API calls evenly over a given time frame in order to avoid getting rate limited.

<br/>

All code can be found in the source directory: `ðŸ“„ src`

<br/>

Most of the work happens in the constructor of the queue where all initialisation is kicked off. This will trigger as soon as a Queue is instantiated.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/queue.ts
```typescript
â¬œ 18       constructor(onProcess: WorkerFunction<T>, items: T[], dailyRateLimit: number, sourceQueueOnEveryRun = false) {
â¬œ 19         this.queue = items;
â¬œ 20         this.snapshot = items;
ðŸŸ© 21         this.onProcess = onProcess;
ðŸŸ© 22         this.sourceQueueOnEveryRun = sourceQueueOnEveryRun;
ðŸŸ© 23         this.dailyRateLimit = dailyRateLimit;
ðŸŸ© 24         this.start();
â¬œ 25       }
â¬œ 26     
â¬œ 27       private start = () => {
```

<br/>

## Adding Tests

<br/>

You can add tests to the `ðŸ“„ src` folder. Make sure to suffix them with \`\*.test.ts\`.

<br/>

## Important Bits

<br/>

All code is packaged from lib. Make sure you build the package first before distributing it.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ package.json
```json
â¬œ 17         "typescript": "^4.3.4"
â¬œ 18       },
â¬œ 19       "files": [
ðŸŸ© 20         "lib/**/*"
â¬œ 21       ]
â¬œ 22     }
â¬œ 23     
```

<br/>

The output folder is set up in the tsconfig file
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ tsconfig.json
```json
â¬œ 14         // "declarationMap": true,                      /* Generates a sourcemap for each corresponding '.d.ts' file. */
â¬œ 15         // "sourceMap": true,                           /* Generates corresponding '.map' file. */
â¬œ 16         // "outFile": "./",                             /* Concatenate and emit output to single file. */
ðŸŸ© 17         "outDir": "./lib",                              /* Redirect output structure to the directory. */
â¬œ 18         // "rootDir": "./",                             /* Specify the root directory of input files. Use to control the output directory structure with --outDir. */
â¬œ 19         // "composite": true,                           /* Enable project compilation */
â¬œ 20         // "tsBuildInfoFile": "./",                     /* Specify file to store incremental compilation information */
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBcmF0ZS1saW1pdC1xdWV1ZSUzQSUzQUZyZWRkaXh4/docs/3c009).